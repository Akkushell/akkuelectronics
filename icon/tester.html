<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlayStation Controller Tester | Akku Electronics</title>
  <meta name="description" content="Test PlayStation controller buttons, sticks, triggers, touchpad click, and vibration in your browser using the Gamepad API." />
  <meta name="robots" content="noindex, nofollow" />
  <link rel="icon" type="image/png" href="../images/aelogo.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="tester.css" />
</head>
<body>
  <header class="header">
    <h1>PlayStation Controller Tester</h1>
    <div class="status" id="connectionStatus">Connect your controller and press any button</div>
  </header>

  <main class="page">
    <section class="panel controller-panel">
      <h2>Controller Visual</h2>
      <div class="controller-container">
        <svg class="controller-svg" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
          <!-- Controller Body -->
          <path d="M 150 200 Q 100 180 80 250 Q 70 300 100 320 L 200 320 Q 220 250 250 250 L 550 250 Q 580 250 600 320 L 700 320 Q 730 300 720 250 Q 700 180 650 200 L 150 200 Z" 
                fill="#2a2a35" stroke="#404050" stroke-width="3"/>
          
          <!-- Left Grip -->
          <ellipse cx="130" cy="280" rx="45" ry="60" fill="#242430" stroke="#404050" stroke-width="2"/>
          
          <!-- Right Grip -->
          <ellipse cx="670" cy="280" rx="45" ry="60" fill="#242430" stroke="#404050" stroke-width="2"/>
          
          <!-- D-Pad Base -->
          <circle cx="220" cy="280" r="50" fill="#1a1a25" stroke="#404050" stroke-width="2"/>
          
          <!-- D-Pad Up -->
          <rect id="dpad-up" x="210" y="240" width="20" height="30" rx="4" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          
          <!-- D-Pad Down -->
          <rect id="dpad-down" x="210" y="290" width="20" height="30" rx="4" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          
          <!-- D-Pad Left -->
          <rect id="dpad-left" x="180" y="270" width="30" height="20" rx="4" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          
          <!-- D-Pad Right -->
          <rect id="dpad-right" x="230" y="270" width="30" height="20" rx="4" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          
          <!-- Face Buttons Base -->
          <circle cx="580" cy="280" r="50" fill="#1a1a25" stroke="#404050" stroke-width="2"/>
          
          <!-- Triangle Button -->
          <circle id="btn-triangle" cx="580" cy="245" r="16" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="580" y="251" text-anchor="middle" fill="#808090" font-size="14" font-weight="bold">△</text>
          
          <!-- Circle Button -->
          <circle id="btn-circle" cx="615" cy="280" r="16" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="615" y="286" text-anchor="middle" fill="#808090" font-size="14" font-weight="bold">○</text>
          
          <!-- Cross Button -->
          <circle id="btn-cross" cx="580" cy="315" r="16" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="580" y="321" text-anchor="middle" fill="#808090" font-size="14" font-weight="bold">✕</text>
          
          <!-- Square Button -->
          <circle id="btn-square" cx="545" cy="280" r="16" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="545" y="286" text-anchor="middle" fill="#808090" font-size="14" font-weight="bold">□</text>
          
          <!-- Left Analog Stick Base -->
          <circle cx="310" cy="310" r="45" fill="#1a1a25" stroke="#404050" stroke-width="2"/>
          <circle id="left-stick-base" cx="310" cy="310" r="35" fill="#2a2a35" stroke="#505060" stroke-width="1.5"/>
          <circle id="left-stick" cx="310" cy="310" r="25" fill="#3a3a45" stroke="#606070" stroke-width="2"/>
          
          <!-- Right Analog Stick Base -->
          <circle cx="490" cy="310" r="45" fill="#1a1a25" stroke="#404050" stroke-width="2"/>
          <circle id="right-stick-base" cx="490" cy="310" r="35" fill="#2a2a35" stroke="#505060" stroke-width="1.5"/>
          <circle id="right-stick" cx="490" cy="310" r="25" fill="#3a3a45" stroke="#606070" stroke-width="2"/>
          
          <!-- L1 Button -->
          <rect id="btn-l1" x="180" y="180" width="80" height="25" rx="6" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="220" y="197" text-anchor="middle" fill="#808090" font-size="12" font-weight="bold">L1</text>
          
          <!-- R1 Button -->
          <rect id="btn-r1" x="540" y="180" width="80" height="25" rx="6" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="580" y="197" text-anchor="middle" fill="#808090" font-size="12" font-weight="bold">R1</text>
          
          <!-- L2 Button -->
          <rect id="btn-l2" x="180" y="150" width="80" height="20" rx="6" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="220" y="164" text-anchor="middle" fill="#808090" font-size="11" font-weight="bold">L2</text>
          
          <!-- R2 Button -->
          <rect id="btn-r2" x="540" y="150" width="80" height="20" rx="6" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="580" y="164" text-anchor="middle" fill="#808090" font-size="11" font-weight="bold">R2</text>
          
          <!-- Center Buttons -->
          <!-- Share Button -->
          <rect id="btn-share" x="330" y="235" width="35" height="18" rx="9" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="347" y="248" text-anchor="middle" fill="#707080" font-size="8" font-weight="bold">SHARE</text>
          
          <!-- PS Button -->
          <circle id="btn-ps" cx="400" cy="360" r="18" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="400" y="365" text-anchor="middle" fill="#808090" font-size="11" font-weight="bold">PS</text>
          
          <!-- Options Button -->
          <rect id="btn-options" x="435" y="235" width="35" height="18" rx="9" fill="#3a3a45" stroke="#505060" stroke-width="1.5"/>
          <text x="452" y="248" text-anchor="middle" fill="#707080" font-size="7" font-weight="bold">OPTIONS</text>
          
          <!-- Touchpad -->
          <rect id="btn-touchpad" x="330" y="200" width="140" height="60" rx="8" fill="#1a1a25" stroke="#404050" stroke-width="2"/>
          <text x="400" y="235" text-anchor="middle" fill="#606070" font-size="10">TOUCHPAD</text>
        </svg>
      </div>
    </section>

    <section class="panel data-panel">
      <div class="grid two">
        <div>
          <h2>Axes</h2>
          <ul class="list" id="axesList"></ul>
        </div>
        <div>
          <h2>Buttons</h2>
          <ul class="list" id="buttonsList"></ul>
        </div>
      </div>
      <div class="vibe">
        <h2>Vibration Test</h2>
        <div class="vibe-rows">
          <div class="row">
            <label>Weak (fast) motor</label>
            <input type="range" id="weakIntensity" min="0" max="1" step="0.01" value="0.5" />
            <span id="weakOut">0.50</span>
          </div>
          <div class="row">
            <label>Strong (low) motor</label>
            <input type="range" id="strongIntensity" min="0" max="1" step="0.01" value="0.5" />
            <span id="strongOut">0.50</span>
          </div>
          <div class="row">
            <label>Duration (ms)</label>
            <input type="number" id="durationMs" min="1" max="5000" step="50" value="500" />
          </div>
          <div class="buttons">
            <button id="pulseVibe">Pulse</button>
            <button id="longVibe">Long</button>
            <button id="stopVibe">Stop</button>
          </div>
          <div class="note" id="vibeSupport">Vibration support: unknown</div>
        </div>
      </div>
      <div class="note small">Note: Browser Gamepad API may not expose DualShock/DualSense touchpad coordinates. This tester shows Touchpad Click state only.</div>
    </section>
  </main>

  <footer class="footer">Akku Electronics — Local controller testing tool</footer>

  <script src="tester.js"></script>
</body>
</html>
